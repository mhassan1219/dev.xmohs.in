---
layout: post
slug: "0002"
title: "Setting Up A Python Development Environment with uv"
date: 2023-09-06
categories: [Python, Development Environment, Programming]
tags: [Python, Development, Environment, uv, Homebrew, Zsh, Virtualenv, Pip]
---

Notes for future me on getting a Mac ready for Python work without juggling pip and virtualenvs. Centered on uv.

## Base setup
- Install Apple's Command Line Tools: `xcode-select --install`.
- Install Homebrew for basics: `brew install git openssl readline zlib sqlite3`.
- Install the 1Password CLI and sign in so `op` can hand GitHub tokens to `gh` and `git`.
- Use Hyper or iTerm2; set your shell to zsh and make sure `~/.zshrc` is loaded in your editor's integrated terminal.

## Editor
- Visual Studio Code extensions: Python, Ruff, Docker, GitLens.
- Minimal settings keep things tidy:

```json
{
  "editor.formatOnSave": true,
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
  "editor.codeActionsOnSave": {
    "source.organizeImports.ruff": true,
    "source.fixAll.ruff": true
  }
}
```

## Install uv and Python
1. Install uv: `curl -Ls https://astral.sh/uv/install.sh | sh`.
2. Add it to your path (in `~/.zshrc`): `export PATH="$HOME/.local/bin:$HOME/.uv/bin:$PATH"`.
3. Install Python: `uv python install 3.12`.
4. Confirm: `uv --version` and `uv python list`.

## Project workflow
New repo with uv:

```
uv init my-project
cd my-project
uv add --dev ruff black pytest
uv add requests
uv sync
uv run pytest
```

- `uv init` creates the `pyproject.toml` and `.gitignore`.
- `uv sync` creates the virtual env and keeps the lockfile in sync; safe to run after dependency changes.
- `uv run <cmd>` executes inside the project env without manual activation.

Existing repo:

```
uv sync
uv run pytest
uv add --dev ruff
```

## Quick checklist
- `git config --global user.name/user.email` are set.
- `ssh -T git@github.com` works with the key stored in 1Password.
- VS Code picks up `.venv/bin/python` automatically (see settings above).

## Automation
- For a fast bootstrap on macOS, run `setup_uv.sh` from the repo root (no sudo). It installs Homebrew, uv, a few packages/casks, and pins uv on your PATH.
